<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>

  <meta charset="utf-8" />
  <title>Task 6</title>

</head>

<body>
  <script src="https://code.jquery.com/jquery-3.6.0.slim.min.js"
    integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous"></script>
  <script type="application/javascript">
    $(document).ready(function () {
      function createFamilyTree(){
        $('body').append('<table>');
          $('table').append(`
            <thead>
              <th>Firstname</th>
              <th>Lastname</th>
            </thead>
          `, "<tbody>");
      };
      function addNewMember(firstName, lastName, position){
        if(position == 'before'){
          $('table tbody').prepend('<tr>antes</tr>');
          $('tbody tr').first().append(`<td>${firstName}</td>`, ` <td>${lastName}</td>`, `<td>(x)</td>`);
          $('tbody tr td').eq(2).addClass(firstName, lastName);  
        }else{

          $('table tbody').append('<tr>');
          $('tbody tr').last().append(`<td>${firstName}</td>`, `<td>${lastName}</td>`, `<td>(x)</td>`);
          $('tbody tr td').last().addClass(firstName + lastName);
        }
        $('.' + firstName + lastName).css('background-color', 'orange');
        $('.' + firstName + lastName).css('cursor', 'pointer');
        $('.' + firstName + lastName).click(function(){
        $('.' + firstName + lastName).parent().remove();
        })
      };
      //function createform
      function createForm(){
        $('body').prepend('<input type=\"text\">', '<input type=\"text\">', '<select>', '<input value=\"Submit\" type=\"submit\">');
        $('input').first().addClass('firstName');
        $('input').eq(1).addClass('lastName');
        $('select').addClass('selection');
        $('.selection').append('<option value=\"before\"">Before</option>', '<option value="\"after\"">Ater</option>');
        $('input').last().click(function(){
          let pos = $('.selection option').filter(':selected').val();
          addNewMember($('.firstName').val(), $('.lastName').val(), pos)
        })
      }
      // call functions
      createFamilyTree();
      createForm();
    });
  </script>
</body>

</html>